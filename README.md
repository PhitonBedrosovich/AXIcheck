# Multi-Service Application

Это приложение содержит два Spring Boot сервиса, которые запускаются в одном Docker контейнере.

## Структура проекта

- `service1/` - Первый сервис (порт 8080)
- `service2/` - Второй сервис (порт 8081)
- `Dockerfile` - Единый Dockerfile для обоих сервисов в одном контейнере
- `docker-compose.yml` - Файл для запуска приложения

## Способы запуска

### 1. Использование docker-compose (рекомендуется)

```bash
# Запуск
docker-compose up -d

# Остановка
docker-compose down

# Просмотр логов
docker-compose logs -f

# Пересборка образа
docker build -t microservices-app .
docker-compose up -d
```

### 3. Проверка работы сервисов

После запуска оба сервиса будут доступны:
- Service1: http://localhost:8080
- Service2: http://localhost:8081

## Преимущества единого контейнера

1. **Одна команда** - запуск обоих сервисов одной командой
2. **Простота управления** - один контейнер вместо двух
3. **Общие ресурсы** - сервисы могут легко общаться между собой
4. **Упрощенное развертывание** - меньше контейнеров для управления

## Архитектура

- **Supervisor** - управляет запуском обоих сервисов
- **Service1** - работает на порту 8080
- **Service2** - работает на порту 8081
- **Логи** - каждый сервис пишет логи в отдельные файлы

## Мониторинг

```bash
# Просмотр логов конкретного сервиса
docker-compose logs -f app
```

## Примечания

- Оба сервиса запускаются автоматически при старте контейнера
- Если один сервис упадет, supervisor автоматически перезапустит его
- Логи сервисов сохраняются в `/var/log/supervisor/`